{% macro set_boolean(name) -%}
    {% if name == '1' %}yes{%else%}no{%endif%}
{%- endmacro %}
{% if helpers.exists('OPNsense.unboundplus.advanced') %}
hide-identity: {{ set_boolean(OPNsense.unboundplus.advanced.hideidentity) }}
hide-version: {{ set_boolean(OPNsense.unboundplus.advanced.hideversion) }}
prefetch: {{ set_boolean(OPNsense.unboundplus.advanced.prefetch) }}
prefetch-key: {{ set_boolean(OPNsense.unboundplus.advanced.prefetchkey) }}
harden-dnssec-stripped: {{ set_boolean(OPNsense.unboundplus.advanced.dnssecstripped) }}
serve-expired: {{ set_boolean(OPNsense.unboundplus.advanced.serveexpired) }}
qname-minimisation-strict: {{ set_boolean(OPNsense.unboundplus.advanced.qnameminstrict) }}
extended-statistics: {{ set_boolean(OPNsense.unboundplus.advanced.extendedstatistics) }}
log-queries: {{ set_boolean(OPNsense.unboundplus.advanced.logqueries) }}
log-replies: {{ set_boolean(OPNsense.unboundplus.advanced.logreplies) }}
log-tag-queryreply: {{ set_boolean(OPNsense.unboundplus.advanced.logtagqueryreply) }}
verbosity: {{ OPNsense.unboundplus.advanced.logverbosity }}
msg-cache-size: {{ OPNsense.unboundplus.advanced.msgcachesize }}m
rrset-cache-size: {{ OPNsense.unboundplus.advanced.msgcachesize|int() * 2 }}m
outgoing-num-tcp: {{ OPNsense.unboundplus.advanced.outgoingnumtcp }}
incoming-num-tcp: {{ OPNsense.unboundplus.advanced.incomingnumtcp }}
num-queries-per-thread: {{ OPNsense.unboundplus.advanced.numqueriesperthread }}
outgoing-range: {{ OPNsense.unboundplus.advanced.numqueriesperthread|int() * 2 }}
jostle-timeout: {{ OPNsense.unboundplus.advanced.jostletimeout }}
cache-max-ttl: {{ OPNsense.unboundplus.advanced.cachemaxttl }}
cache-min-ttl: {{ OPNsense.unboundplus.advanced.cacheminttl }}
infra-host-ttl: {{ OPNsense.unboundplus.advanced.infrahostttl }}
infra-cache-numhosts: {{ OPNsense.unboundplus.advanced.infracachenumhosts }}
unwanted-reply-threshold: {{ OPNsense.unboundplus.advanced.unwantedreplythreshold }}
{% endif %}
